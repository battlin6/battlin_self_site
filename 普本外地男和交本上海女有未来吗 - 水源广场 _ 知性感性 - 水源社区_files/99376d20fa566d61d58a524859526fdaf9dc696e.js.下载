"define"in window&&define("discourse/theme-67/discourse/api-initializers/discourse_close_confirm",["exports","discourse/lib/api","@ember/application","../components/modal/close-confirm-modal"],(function(e,t,o,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
require("discourse/lib/theme-settings-store").getObjectForTheme(67)
const i=e=>`theme_translations.67.${e}`
e.default=(0,t.apiInitializer)("0.11.1",(e=>{e.modifyClass("controller:topic",{pluginId:"discourse-close-confirm",actions:{toggleArchived(){const e=this.model,t=this.currentUser
e.archived||t.canManageTopic?this._super(...arguments):(0,o.getOwner)(this).lookup("service:modal").show(l.default,{model:{topic:e,actionType:"archive",title:i("archive_confirm_modal_title")}})},toggleClosed(){const e=this.model,t=this.currentUser
e.closed||t.canManageTopic?this._super(...arguments):(0,o.getOwner)(this).lookup("service:modal").show(l.default,{model:{topic:e,actionType:"close",title:i("close_confirm_modal_title")}})}}})}))})),"define"in window&&define("discourse/theme-67/discourse/components/modal/close-confirm-modal",["exports","@ember/component","@ember/object","discourse-common/utils/decorators","ember-this-fallback/deprecations-helper","@ember/template-factory"],(function(e,t,o,l,i,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
require("discourse/lib/theme-settings-store").getObjectForTheme(67)
const a=e=>`theme_translations.67.${e}`,c=(0,s.createTemplateFactory)({id:null,block:'[[[8,[39,0],null,[["@title"],[[28,[37,1],[[30,0,["model","title"]]],null]]],[["default"],[[[[1,"\\n  "],[10,2],[12],[1,[28,[35,1],[[30,0,["bodyText"]]],null]],[13],[1,"\\n\\n\\n"],[10,0],[14,0,"modal-footer"],[12],[1,"\\n  "],[1,[28,[35,2],null,[["action","label","class"],[[28,[37,3],[[30,0],"confirm"],null],[28,[37,4],[67,"confirm_button_text"],null],"btn-danger"]]]],[1,"\\n  "],[1,[28,[35,2],null,[["action","label","class"],[[28,[37,5],["closeModal"],null],[28,[37,4],[67,"cancel_button_text"],null],"btn-primary"]]]],[1,"\\n"],[13],[1,"\\n"]],[]]]]],[1,"\\n"],[1,[28,[32,0],["[[\\"The `model` property path was used in the `discourse/components/modal/close-confirm-modal.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `bodyText` property path was used in the `discourse/components/modal/close-confirm-modal.hbs` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.bodyText}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}]]"],null]]],[],false,["d-modal","i18n","d-button","action","theme-prefix","route-action"]]',moduleName:"discourse/components/modal/close-confirm-modal.hbs",scope:()=>[i.default],isStrictMode:!1})
e.default=(0,t.setComponentTemplate)(c,t.default.extend(dt7948.p({bodyText(){return"close"===this.model.actionType?a("close_confirm_modal_body"):a("archive_confirm_modal_body")},confirm(){const{actionType:e,topic:t}=this.model
this.closeModal(),"close"===e?t.toggleStatus("closed").then((e=>{t.set("topic_status_update",e.topic_status_update)})):"archive"===e&&t.toggleStatus("archived")}},[["method","bodyText",[(0,l.default)("model.actionType")]],["method","confirm",[o.action]]])))}))

//# sourceMappingURL=99376d20fa566d61d58a524859526fdaf9dc696e.map?__ws=shuiyuan.sjtu.edu.cn
