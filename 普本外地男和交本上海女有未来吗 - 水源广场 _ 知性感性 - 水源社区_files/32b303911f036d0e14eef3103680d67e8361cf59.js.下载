"define"in window&&define("discourse/theme-96/discourse/templates/connectors/user-preferences-interface/low-data-mode",["exports","ember-this-fallback/deprecations-helper","@ember/template-factory"],(function(e,t,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,o.createTemplateFactory)({id:null,block:'[[[1,[28,[35,0],null,[["model"],[[30,0,["model"]]]]]],[1,[28,[32,0],["[[\\"The `model` property path was used in the `discourse/theme-96/discourse/templates/connectors/user-preferences-interface/low-data-mode` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}]]"],null]]],[],false,["low-data-mode-preference"]]',moduleName:"discourse/theme-96/discourse/templates/connectors/user-preferences-interface/low-data-mode",scope:()=>[t.default],isStrictMode:!1})})),"define"in window&&define("discourse/theme-96/discourse/initializers/low-data-mode-init",["exports","discourse/lib/plugin-api","@ember/object","I18n"],(function(e,t,o,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
require("discourse/lib/theme-settings-store").getObjectForTheme(96)
const l=e=>`theme_translations.96.${e}`
e.default={name:"low-data-mode",initialize(){(0,t.withPluginApi)("0.8.22",(e=>{e.modifyClass("controller:preferences/interface",{pluginId:"low-data-mode",actions:{save(){this._super(...arguments),localStorage.setItem("discourse-low-data-mode",(this.model.get("lowDataMode.image")?"1":"0")+(this.model.get("lowDataMode.video")?"1":"0"))}}}),e.modifyClass("route:preferences-interface",{pluginId:"low-data-mode",init(){this._super(...arguments),this.router.on("routeWillChange",(e=>{if(e.from.find((e=>e.name===this.routeName))&&!e.to.find((e=>e.name===this.routeName))){const e=this.modelFor("user"),t=localStorage.getItem("discourse-low-data-mode")??"00"
e.set("lowDataMode.image","1"===t[0]),e.set("lowDataMode.video","1"===t[1])}}))}}),e.decorateCookedElement((t=>{function o(e,t){const o=document.createElement("a")
o.innerText=t,o.setAttribute("data-previous",e.outerHTML),o.addEventListener("click",(function(e){const t=e.target,o=(new DOMParser).parseFromString(t.getAttribute("data-previous"),"text/html").body.firstChild
t.replaceWith(o)})),e.replaceWith(o)}e.getCurrentUser().get("lowDataMode.image")&&(t.querySelectorAll(".lightbox:not(.emoji):not(.avatar)").forEach((e=>o(e,a.default.t(l("place_holder_image"))))),t.querySelectorAll("img:not(.emoji):not(.avatar)").forEach((e=>o(e,a.default.t(l("place_holder_image")))))),e.getCurrentUser().get("lowDataMode.video")&&[".video-container","video","audio","iframe"].forEach((e=>{t.querySelectorAll(e).forEach((e=>o(e,a.default.t(l("place_holder_video")))))}))}),{id:"low-data-mode",onlyStream:!1})}))}}})),"define"in window&&define("discourse/theme-96/discourse/pre-initializers/low-data-mode-preinit",["exports","discourse/lib/plugin-api","@ember/object","I18n"],(function(e,t,o,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
require("discourse/lib/theme-settings-store").getObjectForTheme(96)
e.default={name:"low-data-mode",before:"inject-discourse-objects",initialize(){(0,t.withPluginApi)("0.8.22",(e=>{e.modifyClass("model:user",{pluginId:"low-data-mode",lowDataMode:{},init(){this._super(...arguments)
const e=localStorage.getItem("discourse-low-data-mode")??"00"
this.set("lowDataMode.image","1"===e[0]),this.set("lowDataMode.video","1"===e[1])}})}))}}})),"define"in window&&define("discourse/theme-96/discourse/templates/components/low-data-mode-preference",["exports","ember-this-fallback/deprecations-helper","@ember/template-factory"],(function(e,t,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default=(0,o.createTemplateFactory)({id:null,block:'[[[10,0],[14,0,"control-group low-data-mode"],[12],[1,"\\n  "],[10,"label"],[14,0,"control-label"],[12],[1,[28,[35,0],[96,"low_data_mode"],null]],[13],[1,"\\n  "],[10,0],[14,0,"controls"],[12],[1,"\\n    "],[8,[39,1],null,[["@labelKey","@checked"],[[28,[37,2],[96,"low_data_mode_image"],null],[30,0,["model","lowDataMode","image"]]]],null],[1,"\\n  "],[13],[1,"\\n  "],[10,0],[14,0,"controls"],[12],[1,"\\n    "],[8,[39,1],null,[["@labelKey","@checked"],[[28,[37,2],[96,"low_data_mode_video"],null],[30,0,["model","lowDataMode","video"]]]],null],[1,"\\n  "],[13],[1,"\\n"],[13],[1,[28,[32,0],["[[\\"The `model` property path was used in the `discourse/theme-96/discourse/templates/components/low-data-mode-preference` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}],[\\"The `model` property path was used in the `discourse/theme-96/discourse/templates/components/low-data-mode-preference` template without using `this`. This fallback behavior has been deprecated, all properties must be looked up on `this` when used in the template: {{this.model}}\\",false,{\\"id\\":\\"ember-this-fallback.this-property-fallback\\",\\"until\\":\\"n/a\\",\\"for\\":\\"ember-this-fallback\\",\\"url\\":\\"https://deprecations.emberjs.com/v3.x#toc_this-property-fallback\\",\\"since\\":{\\"available\\":\\"0.2.0\\"}}]]"],null]]],[],false,["theme-i18n","preference-checkbox","theme-prefix"]]',moduleName:"discourse/theme-96/discourse/templates/components/low-data-mode-preference",scope:()=>[t.default],isStrictMode:!1})}))

//# sourceMappingURL=32b303911f036d0e14eef3103680d67e8361cf59.map?__ws=shuiyuan.sjtu.edu.cn
