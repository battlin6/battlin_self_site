"require"in window&&require("discourse/lib/theme-settings-store").registerSettings(99,{display_all_topic_templates_as_placeholders:!0,only_apply_on_first_post:!0,topic_template_placeholder_indicator:"[placeholder]"}),"define"in window&&define("discourse/theme-99/discourse/initializers/topic-template-init",["exports","discourse/lib/plugin-api","discourse-common/utils/decorators"],(function(e,t,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=require("discourse/lib/theme-settings-store").getObjectForTheme(99)
e.default={name:"topic-template-init",initialize(e){(0,t.withPluginApi)("0.8.12",(e=>{e.modifyClass("component:d-editor",dt7948.p({pluginId:"discourse-topic-template-placeholders",placeholderTranslated(e){const t=l.topic_template_placeholder_indicator?l.topic_template_placeholder_indicator:"[placeholder]"
return e&&0==e.indexOf(t)?e.replace(t,""):this._super()}},[["method","placeholderTranslated",[(0,i.default)("placeholder")]]])),e.modifyClass("component:composer-editor",dt7948.p({pluginId:"discourse-topic-template-placeholders",replyPlaceholder(e){if(null===this.topic||!l.only_apply_on_first_post){const e=this.composer._categoryId,t=this.site.categories.findBy("id",e),i=l.topic_template_placeholder_indicator?l.topic_template_placeholder_indicator:"[placeholder]"
if(t&&null!=t.topic_template&&""!=t.topic_template&&(l.display_all_topic_templates_as_placeholders||0==t.topic_template.indexOf(i)))return 0==t.topic_template.indexOf(i)?t.topic_template:`${i}${t.topic_template}`}return this._super()}},[["method","replyPlaceholder",[(0,i.default)("composer.requiredCategoryMissing")]]])),e.modifyClass("model:composer",{pluginId:"discourse-topic-template-placeholders",applyTopicTemplate(e,t){this._super(e,t)
const i=this.site.categories.findBy("id",t),o=l.topic_template_placeholder_indicator?l.topic_template_placeholder_indicator:"[placeholder]"
!l.display_all_topic_templates_as_placeholders&&0!=this.get("reply").indexOf(o)||null==i.topic_template||i.topic_template!=this.get("reply")||this.set("reply","")}})}))}}}))

//# sourceMappingURL=0022b71201fd2f0a40d7e71d21af2afb512401bf.map?__ws=shuiyuan.sjtu.edu.cn
